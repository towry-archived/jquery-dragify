/*!
 * Copyright 2015 Towry Wang
 *
 * @license MIT License, http://towry.me/mit-license/
 */
!function(t){t.fn.dragify=function(){function e(t){!r&&s&&(s.css("left",c.left+t.clientX-i.x+"px"),s.css("top",c.top+t.clientY-i.y+"px"))}function n(t){var e,n;if("relative"===t.css("position"))n=parseInt(t.css("left"),10)||0,e=parseInt(t.css("top"),10)||0;else{var s=t.offset(),c=o(t);n=s.left-c.left,e=s.top-c.top}return{left:n,top:e}}function o(t){return{left:parseInt(t.css("marginLeft"),10)||0,top:parseInt(t.css("marginTop"),10)||0}}var s,c,i={},r=!0;return t(document).on("mousedown",function(o){o.preventDefault();var f=t(o.target);"1"===f.attr("dragify")&&(s=f,r=!1,c=n(f),i.x=o.clientX,i.y=o.clientY,t(document).on("mousemove",e))}),t(document).on("mouseup",function(){r=!0,s&&t(document).off("mousemove",document,e)}),this.each(function(){var e=t(this);"static"===e.css("position")&&e.css("position","relative"),e.css("cursor","move"),e.attr("dragify",1)})}}(jQuery);